# Go Framebuffer Console - ç³»ç»ŸçŠ¶æ€ç›‘æ§åº”ç”¨

## é¡¹ç›®ç®€ä»‹

Go Framebuffer Console æ˜¯ä¸€ä¸ªåŸºäº Linux Framebuffer çš„ç³»ç»ŸçŠ¶æ€ç›‘æ§åº”ç”¨ç¨‹åºï¼Œä¸“ä¸º CentOS 7.9 ç¯å¢ƒä¼˜åŒ–è®¾è®¡ã€‚è¯¥åº”ç”¨ç›´æ¥æ“ä½œå¸§ç¼“å†²è®¾å¤‡ï¼Œæ— éœ€ X11 ç¯å¢ƒå³å¯åœ¨ç»ˆç«¯æ˜¾ç¤ºå›¾å½¢åŒ–çš„ç³»ç»Ÿç›‘æ§ç•Œé¢ã€‚

### æ ¸å¿ƒç‰¹æ€§

- **ç›´æ¥å¸§ç¼“å†²æ¸²æŸ“**ï¼šæ— éœ€å›¾å½¢ç¯å¢ƒï¼Œç›´æ¥æ“ä½œ `/dev/fb0` è®¾å¤‡
- **ä¸­æ–‡å­—ä½“æ”¯æŒ**ï¼šå®Œç¾æ”¯æŒ TTF æ ¼å¼ä¸­æ–‡å­—ä½“æ¸²æŸ“
- **å®æ—¶ç³»ç»Ÿç›‘æ§**ï¼šæ¯5ç§’è‡ªåŠ¨åˆ·æ–°ç³»ç»ŸçŠ¶æ€ä¿¡æ¯
- **ç½‘ç»œè¿é€šæ€§æµ‹è¯•**ï¼šå†…ç½®é«˜çº§ç½‘ç»œè¯Šæ–­åŠŸèƒ½ï¼Œæ”¯æŒå¤šç›®æ ‡pingæµ‹è¯•
- **äºŒç»´ç æ˜¾ç¤º**ï¼šè‡ªåŠ¨ç”Ÿæˆä¹¾å¤äº‘è®¾å¤‡IDçš„äºŒç»´ç 
- **æ™ºèƒ½ç¼“å­˜æ¸²æŸ“**ï¼šé¿å…é—ªçƒï¼Œæä¾›æµç•…çš„ç”¨æˆ·ä½“éªŒ
- **å¯æ§é€€å‡ºæœºåˆ¶**ï¼šæ”¯æŒç¦ç”¨Ctrl+Cç­‰æ§åˆ¶é”®é€€å‡ºåŠŸèƒ½
- **å®Œæ•´çš„ç³»ç»Ÿç®¡ç†**ï¼šæ”¯æŒé‡å¯ã€å…³æœºç­‰ç³»ç»Ÿæ“ä½œ

## ç³»ç»Ÿè¦æ±‚

### ç¡¬ä»¶è¦æ±‚
- **å¤„ç†å™¨**ï¼šx86_64 æ¶æ„
- **å†…å­˜**ï¼šæœ€å° 256MB RAM
- **æ˜¾ç¤º**ï¼šæ”¯æŒ Framebuffer çš„æ˜¾ç¤ºè®¾å¤‡

### è½¯ä»¶è¦æ±‚
- **æ“ä½œç³»ç»Ÿ**ï¼šCentOS 7.9 æˆ–å…¼å®¹çš„ Linux å‘è¡Œç‰ˆ
- **å†…æ ¸**ï¼šæ”¯æŒ Framebuffer è®¾å¤‡ (`/dev/fb0`)
- **å­—ä½“**ï¼šTTF æ ¼å¼çš„ä¸­æ–‡å­—ä½“æ–‡ä»¶
- **æƒé™**ï¼šè¯»å– `/dev/fb0`ã€`/proc/*`ã€`/sys/*` çš„æƒé™

### ä¾èµ–åº“
- `github.com/golang/freetype` - å­—ä½“æ¸²æŸ“å¼•æ“
- `golang.org/x/image` - å›¾åƒå¤„ç†åº“
- `rsc.io/qr` - äºŒç»´ç ç”Ÿæˆåº“

## åŠŸèƒ½è¯¦è§£

### ğŸ–¥ï¸ ä¸»ç•Œé¢æ˜¾ç¤º

ä¸»ç•Œé¢é‡‡ç”¨æ¸…æ™°çš„ä¿¡æ¯å¸ƒå±€ï¼Œæ˜¾ç¤ºä»¥ä¸‹ç³»ç»Ÿä¿¡æ¯ï¼š

```
ç³»ç»Ÿä¿¡æ¯
================================ 
æ“ä½œç³»ç»Ÿè¿è¡Œæ—¶é—´ï¼šXå¤© Xå°æ—¶ Xåˆ†é’Ÿ
å¤„ç†å™¨å‹å·ï¼šIntel(R) Xeon(R) CPU E5-2696 v4 @2.20GHz *20 æ ¸
å†…å­˜ä½¿ç”¨çŠ¶æ€ï¼š444M/19995MB
ç³»ç»Ÿå®‰è£…ç£ç›˜å¤§å°ï¼š20Gï¼ˆå…±2ä¸ªç£ç›˜ï¼‰
å½“å‰ç³»ç»Ÿæ—¶é—´ï¼š2025-06-15 12:00:00
è®¾å¤‡IPåœ°å€ï¼š192.168.1.100

è®¾å¤‡IDï¼šyour-device-id

================================

[äºŒç»´ç åŒºåŸŸ]

===============================

å¦‚æœ‰é—®é¢˜è¯·å’¨è¯¢æŠ€æœ¯å®¢æœï¼šå¾®ä¿¡ï¼šyour-service-wechat

æŒ‰å›è½¦é”®è¿›å…¥é…ç½®èœå•
```

### ğŸ“Š ç³»ç»Ÿä¿¡æ¯ç›‘æ§

#### å¤„ç†å™¨ä¿¡æ¯
- **å‹å·è¯†åˆ«**ï¼šè‡ªåŠ¨è¯†åˆ«CPUå‹å·å’Œæ¶æ„
- **æ ¸å¿ƒç»Ÿè®¡**ï¼šæ˜¾ç¤ºç‰©ç†æ ¸å¿ƒæ•°é‡
- **æ ¼å¼åŒ–æ˜¾ç¤º**ï¼š`å¤„ç†å™¨å‹å· *æ ¸å¿ƒæ•° æ ¸`

#### å†…å­˜ç›‘æ§
- **å®æ—¶ç»Ÿè®¡**ï¼šå·²ç”¨å†…å­˜/æ€»å†…å­˜ï¼ˆMBå•ä½ï¼‰
- **ç²¾ç¡®è®¡ç®—**ï¼šåŸºäº `/proc/meminfo` çš„ MemAvailable è®¡ç®—
- **æ ¼å¼ç¤ºä¾‹**ï¼š`444M/19995MB`

#### ç£ç›˜ç»Ÿè®¡
- **ç‰©ç†ç£ç›˜è¯†åˆ«**ï¼šåªç»Ÿè®¡çœŸå®ç‰©ç†ç£ç›˜ï¼ˆSATA/SAS/NVMeï¼‰
- **æ™ºèƒ½è¿‡æ»¤**ï¼šæ’é™¤è™šæ‹Ÿè®¾å¤‡ï¼ˆloopã€ramã€dm-ç­‰ï¼‰
- **å®¹é‡æ±‡æ€»**ï¼šæ˜¾ç¤ºæ‰€æœ‰ç‰©ç†ç£ç›˜æ€»å®¹é‡å’Œæ•°é‡

#### ç½‘ç»œä¿¡æ¯
- **è®¾å¤‡IPè·å–**ï¼šé€šè¿‡é»˜è®¤è·¯ç”±ç¡®å®šä¸»è¦ç½‘å¡IPåœ°å€
- **æ¥å£æ£€æµ‹**ï¼šè‡ªåŠ¨è¯†åˆ«æ´»è·ƒçš„ç½‘ç»œæ¥å£
- **åœ°å€éªŒè¯**ï¼šæ’é™¤å›ç¯å’Œé“¾è·¯æœ¬åœ°åœ°å€

### ğŸŒ é«˜çº§ç½‘ç»œè¿é€šæ€§æµ‹è¯•

å†…ç½®ä¸“ä¸šçº§ç½‘ç»œè¯Šæ–­åŠŸèƒ½ï¼Œæ”¯æŒå¤šç›®æ ‡å¹¶å‘æµ‹è¯•ï¼š

#### æµ‹è¯•ç›®æ ‡
1. **å­—èŠ‚è·³åŠ¨å®˜ç½‘** (`bytedance.com`)
2. **ç™¾åº¦é¦–é¡µ** (`baidu.com`)
3. **å“”å“©å“”å“©** (`bilibili.com`)
4. **è…¾è®¯å®˜ç½‘** (`tencent.com`)
5. **é˜¿é‡ŒDNSæœåŠ¡å™¨** (`223.5.5.5`)

#### æµ‹è¯•ç‰¹æ€§
- **å¹¶å‘æµ‹è¯•**ï¼šåŒæ—¶å¯¹5ä¸ªç›®æ ‡è¿›è¡Œè¿é€šæ€§æ£€æµ‹
- **è¯¦ç»†ç»Ÿè®¡**ï¼šæ¯ä¸ªç›®æ ‡å‘é€4ä¸ªpingåŒ…
- **å®æ—¶è¿›åº¦**ï¼šæ˜¾ç¤ºæµ‹è¯•è¿›åº¦ `X/5`
- **ç»“æœåˆ†æ**ï¼š
  - æ•°æ®åŒ…ç»Ÿè®¡ï¼ˆå‘é€/æ¥æ”¶/ä¸¢å¤±ç‡ï¼‰
  - å¹³å‡å»¶è¿Ÿæ—¶é—´
  - è¿æ¥çŠ¶æ€ï¼ˆæ­£å¸¸/éƒ¨åˆ†æ­£å¸¸/å¼‚å¸¸ï¼‰

#### ç»“æœå±•ç¤º
```
=== ç½‘ç»œè¿é€šæ€§æµ‹è¯•ç»“æœ ===

â€¢ å­—èŠ‚è·³åŠ¨ (bytedance.com):
  çŠ¶æ€: æ­£å¸¸
  æ•°æ®åŒ…: å‘é€4 æ¥æ”¶4 ä¸¢å¤±0.0%
  å¹³å‡å»¶è¿Ÿ: 15.2 ms

â€¢ ç™¾åº¦ (baidu.com):
  çŠ¶æ€: éƒ¨åˆ†æ­£å¸¸
  æ•°æ®åŒ…: å‘é€4 æ¥æ”¶3 ä¸¢å¤±25.0%
  è¯¦æƒ…: 25.0% æ•°æ®åŒ…ä¸¢å¤±

----------------------------------------
âœ“ ç½‘ç»œè¿æ¥çŠ¶æ€: è‰¯å¥½
å¯è®¿é—® 4/5 ä¸ªæµ‹è¯•ç›®æ ‡
```

### ğŸ“± äºŒç»´ç åŠŸèƒ½

#### è‡ªåŠ¨ç”Ÿæˆ
- **æ•°æ®æº**ï¼šè¯»å– `/usr/local/etc/device/id` æ–‡ä»¶ï¼ˆå¯é…ç½®ï¼‰
- **æ¸²æŸ“å¼•æ“**ï¼šä½¿ç”¨ `rsc.io/qr` ç”Ÿæˆæ ‡å‡†äºŒç»´ç 
- **æ˜¾ç¤ºæ ¼å¼**ï¼šç™½è‰²èƒŒæ™¯ï¼Œé»‘è‰²æ–¹å—ï¼Œå·¦å³è¾¹è·

#### æŠ€æœ¯è§„æ ¼
- **çº é”™çº§åˆ«**ï¼šMçº§åˆ«ï¼ˆ15%çº é”™èƒ½åŠ›ï¼‰
- **åƒç´ æ”¾å¤§**ï¼š4å€æ”¾å¤§ç¡®ä¿æ¸…æ™°åº¦
- **è¾¹è·è®¾è®¡**ï¼šå·¦å³å„2ä¸ªåƒç´ å•ä½è¾¹è·
- **æ‰«æå…¼å®¹**ï¼šå…¼å®¹æ‰€æœ‰ä¸»æµäºŒç»´ç æ‰«æå™¨

### ğŸ“ æ—¥å¿—ç³»ç»Ÿ

#### è‡ªåŠ¨è½®è½¬ç‰¹æ€§
- **æŒ‰æ—¥åˆ‡å‰²**ï¼šæ¯å¤©0ç‚¹è‡ªåŠ¨åˆ›å»ºæ–°æ—¥å¿—æ–‡ä»¶
- **æ–‡ä»¶æ ¼å¼**ï¼š`console-YYYY-MM-DD.log`
- **è‡ªåŠ¨æ¸…ç†**ï¼šä¿ç•™æœ€è¿‘3å¤©çš„æ—¥å¿—ï¼Œè‡ªåŠ¨åˆ é™¤æ—§æ–‡ä»¶
- **å®æ—¶è®°å½•**ï¼šæ‰€æœ‰æ“ä½œå’Œé”™è¯¯éƒ½è®°å½•åˆ°æ—¥å¿—

#### æ—¥å¿—å†…å®¹åŒ…å«
- ç¨‹åºå¯åŠ¨å’Œé€€å‡ºäº‹ä»¶
- ç”¨æˆ·æ“ä½œè®°å½•  
- æ§åˆ¶é”®æ‹¦æˆªè¯¦æƒ…
- ç½‘ç»œæµ‹è¯•ç»“æœ
- ç³»ç»Ÿé”™è¯¯ä¿¡æ¯
- æ€§èƒ½ç›‘æ§æ•°æ®

### âš™ï¸ é…ç½®èœå•

æŒ‰å›è½¦é”®è¿›å…¥é…ç½®èœå•ï¼Œæä¾›ä»¥ä¸‹åŠŸèƒ½ï¼š

```
============================
é…ç½®èœå•
============================
1. æŸ¥çœ‹ç½‘å¡ä¿¡æ¯
2. é‡å¯ç³»ç»ŸæœåŠ¡  
3. æ£€æµ‹è®¾å¤‡ç½‘ç»œ
4. é‡å¯è®¾å¤‡
5. å…³æœº
============================
è¯·è¾“å…¥é€‰é¡¹(1-5)ï¼ŒæŒ‰qè¿”å›é¦–é¡µ
```

#### 1. æŸ¥çœ‹ç½‘å¡ä¿¡æ¯
- **ç‰©ç†æ¥å£è¯†åˆ«**ï¼šåªæ˜¾ç¤ºçœŸå®çš„ç‰©ç†ç½‘å¡
- **çŠ¶æ€æ£€æµ‹**ï¼šUp/Down/RunningçŠ¶æ€
- **åœ°å€ä¿¡æ¯**ï¼šIPv4å’ŒIPv6åœ°å€åˆ—è¡¨
- **ç¡¬ä»¶ä¿¡æ¯**ï¼šMACåœ°å€æ˜¾ç¤º

#### 2. é‡å¯ç³»ç»ŸæœåŠ¡
- **æœåŠ¡ç®¡ç†**ï¼šåŸºäº systemctl çš„æœåŠ¡æ§åˆ¶
- **æƒé™æ£€æŸ¥**ï¼šè¦æ±‚rootæƒé™
- **å®‰å…¨éªŒè¯**ï¼šé˜²æ­¢å‘½ä»¤æ³¨å…¥æ”»å‡»

#### 3. æ£€æµ‹è®¾å¤‡ç½‘ç»œ
æ‰§è¡Œé«˜çº§ç½‘ç»œè¿é€šæ€§æµ‹è¯•ï¼ˆè¯¦è§ç½‘ç»œæµ‹è¯•åŠŸèƒ½ï¼‰

#### 4. é‡å¯è®¾å¤‡
- **ç¡®è®¤æœºåˆ¶**ï¼šéœ€è¦æŒ‰ 'y' ç¡®è®¤
- **æƒé™æ£€æŸ¥**ï¼šè¦æ±‚rootæƒé™
- **ä¼˜é›…é‡å¯**ï¼šä½¿ç”¨ `reboot` å‘½ä»¤

#### 5. å…³æœº
- **ç¡®è®¤æœºåˆ¶**ï¼šéœ€è¦æŒ‰ 'y' ç¡®è®¤  
- **æƒé™æ£€æŸ¥**ï¼šè¦æ±‚rootæƒé™
- **å®‰å…¨å…³æœº**ï¼šä½¿ç”¨ `shutdown -h now` å‘½ä»¤

### ğŸ”’ é€€å‡ºæ§åˆ¶æœºåˆ¶

#### å‘½ä»¤è¡Œå‚æ•°
- **`-d`**ï¼šç¦ç”¨æ‰€æœ‰é€€å‡ºåŠŸèƒ½
- **`-h`**ï¼šæ˜¾ç¤ºå¸®åŠ©ä¿¡æ¯

#### é»˜è®¤æ¨¡å¼ï¼ˆæ— å‚æ•°ï¼‰
æ”¯æŒä»¥ä¸‹é€€å‡ºæ–¹å¼ï¼š
- **Ctrl+C** (SIGINT) - ä¸­æ–­é€€å‡º
- **Ctrl+Z** (SIGTSTP) - æŒ‚èµ·é€€å‡º
- **Ctrl+\** (SIGQUIT) - é€€å‡ºä¿¡å·
- **Ctrl+D** (EOF) - æ–‡ä»¶ç»“æŸ
- **é…ç½®èœå•é€€å‡º**

#### ç¦ç”¨æ¨¡å¼ï¼ˆ`-d` å‚æ•°ï¼‰
- **å…¨å±€æ‹¦æˆª**ï¼šåœ¨ä»»ä½•ç•Œé¢éƒ½æ— æ³•é€šè¿‡æ§åˆ¶é”®é€€å‡º
- **ä¿¡å·å±è”½**ï¼šæ‹¦æˆªæ‰€æœ‰é€€å‡ºç›¸å…³çš„ç³»ç»Ÿä¿¡å·
- **æ—¥å¿—è®°å½•**ï¼šæ¯æ¬¡æ‹¦æˆªå°è¯•éƒ½è®°å½•åˆ°æ—¥å¿—
- **å”¯ä¸€é€€å‡º**ï¼šåªèƒ½é€šè¿‡é…ç½®èœå•æ­£å¸¸é€€å‡º

## ç¼–è¯‘è¯´æ˜

### ç¯å¢ƒå‡†å¤‡

#### 1. å®‰è£… Go ç¯å¢ƒ
```bash
# CentOS 7.9
sudo yum install -y epel-release
sudo yum install -y golang

# æˆ–ä¸‹è½½æœ€æ–°ç‰ˆæœ¬
wget https://golang.org/dl/go1.21.0.linux-amd64.tar.gz
sudo tar -C /usr/local -xzf go1.21.0.linux-amd64.tar.gz
echo 'export PATH=$PATH:/usr/local/go/bin' >> ~/.bashrc
source ~/.bashrc
```

#### 2. éªŒè¯ç¯å¢ƒ
```bash
go version
# è¾“å‡ºï¼šgo version go1.21.0 linux/amd64
```

### è·å–æºç 

```bash
# å…‹éš†é¡¹ç›®ï¼ˆå¦‚æœä½¿ç”¨Gitï¼‰
git clone <repository-url>
cd go-framebuffer-console

# æˆ–è§£å‹æºç åŒ…
tar -xzf go-framebuffer-console.tar.gz
cd go-framebuffer-console
```

### ä¾èµ–ç®¡ç†

```bash
# ä¸‹è½½ä¾èµ–
go mod tidy

# éªŒè¯ä¾èµ–
go mod verify
```

### é™æ€ç¼–è¯‘

é™æ€ç¼–è¯‘ç”Ÿæˆç‹¬ç«‹å¯æ‰§è¡Œæ–‡ä»¶ï¼Œä¸ä¾èµ–ç³»ç»ŸåŠ¨æ€åº“ï¼š

```bash
# åŸºæœ¬é™æ€ç¼–è¯‘
CGO_ENABLED=1 GOOS=linux GOARCH=amd64 go build \
    -a -ldflags '-linkmode external -extldflags "-static"' \
    -o framebuffer-console-static ./cmd/main

# ä¼˜åŒ–ç‰ˆæœ¬ï¼ˆå‡å°æ–‡ä»¶å¤§å°ï¼‰
CGO_ENABLED=1 GOOS=linux GOARCH=amd64 go build \
    -a -ldflags '-linkmode external -extldflags "-static" -s -w' \
    -tags 'netgo osusergo static_build' \
    -o framebuffer-console-static ./cmd/main

# éªŒè¯é™æ€é“¾æ¥
ldd framebuffer-console-static
# è¾“å‡ºï¼šnot a dynamic executable
```

#### é™æ€ç¼–è¯‘ä¼˜åŠ¿
- **ç‹¬ç«‹éƒ¨ç½²**ï¼šæ— éœ€å®‰è£…Goè¿è¡Œæ—¶å’Œç³»ç»Ÿåº“
- **ç‰ˆæœ¬å…¼å®¹**ï¼šé¿å…ä¸åŒç³»ç»Ÿçš„åº“ç‰ˆæœ¬å†²çª
- **ä¾¿äºåˆ†å‘**ï¼šå•æ–‡ä»¶åˆ†å‘ï¼Œç®€åŒ–éƒ¨ç½²æµç¨‹

### åŠ¨æ€ç¼–è¯‘

åŠ¨æ€ç¼–è¯‘ç”Ÿæˆè¾ƒå°çš„å¯æ‰§è¡Œæ–‡ä»¶ï¼Œä½†ä¾èµ–ç³»ç»Ÿåº“ï¼š

```bash
# æ ‡å‡†åŠ¨æ€ç¼–è¯‘
go build -o framebuffer-console ./cmd/main

# ä¼˜åŒ–ç‰ˆæœ¬
go build -ldflags "-s -w" -o framebuffer-console ./cmd/main

# éªŒè¯åŠ¨æ€é“¾æ¥
ldd framebuffer-console
# è¾“å‡ºï¼šä¾èµ–çš„åŠ¨æ€åº“åˆ—è¡¨
```

#### åŠ¨æ€ç¼–è¯‘ä¼˜åŠ¿
- **æ–‡ä»¶è¾ƒå°**ï¼šå¯æ‰§è¡Œæ–‡ä»¶ä½“ç§¯æ›´å°
- **ç¼–è¯‘é€Ÿåº¦å¿«**ï¼šç¼–è¯‘æ—¶é—´è¾ƒçŸ­
- **åº“å…±äº«**ï¼šå¯ä»¥åˆ©ç”¨ç³»ç»Ÿåº“çš„æ›´æ–°

### äº¤å‰ç¼–è¯‘

#### ä¸ºä¸åŒæ¶æ„ç¼–è¯‘

```bash
# ARM64 é™æ€ç¼–è¯‘
CGO_ENABLED=1 GOOS=linux GOARCH=arm64 \
CC=aarch64-linux-gnu-gcc go build \
    -a -ldflags '-linkmode external -extldflags "-static"' \
    -o framebuffer-console-arm64 ./cmd/main

# ARM é™æ€ç¼–è¯‘  
CGO_ENABLED=1 GOOS=linux GOARCH=arm \
CC=arm-linux-gnueabi-gcc go build \
    -a -ldflags '-linkmode external -extldflags "-static"' \
    -o framebuffer-console-arm ./cmd/main
```

#### äº¤å‰ç¼–è¯‘ç¯å¢ƒå‡†å¤‡

```bash
# CentOS 7.9 å®‰è£…äº¤å‰ç¼–è¯‘å·¥å…·é“¾
sudo yum install -y gcc-aarch64-linux-gnu gcc-arm-linux-gnu

# Ubuntu/Debian
sudo apt-get install -y gcc-aarch64-linux-gnu gcc-arm-linux-gnueabi
```

### ç¼–è¯‘è„šæœ¬

åˆ›å»º `build.sh` è‡ªåŠ¨åŒ–ç¼–è¯‘è„šæœ¬ï¼š

```bash
#!/bin/bash

# ç¼–è¯‘é…ç½®
APP_NAME="framebuffer-console"
VERSION=$(git describe --tags --always --dirty 2>/dev/null || echo "dev")
BUILD_TIME=$(date -u '+%Y-%m-%d_%H:%M:%S')
GO_VERSION=$(go version | awk '{print $3}')

# ç¼–è¯‘æ ‡å¿—
LDFLAGS="-X main.Version=${VERSION} -X main.BuildTime=${BUILD_TIME} -X main.GoVersion=${GO_VERSION}"

echo "å¼€å§‹ç¼–è¯‘ ${APP_NAME} v${VERSION}"

# é™æ€ç¼–è¯‘
echo "é™æ€ç¼–è¯‘..."
CGO_ENABLED=1 GOOS=linux GOARCH=amd64 go build \
    -a -ldflags "-linkmode external -extldflags \"-static\" -s -w ${LDFLAGS}" \
    -tags 'netgo osusergo static_build' \
    -o "${APP_NAME}-static" ./cmd/main

# åŠ¨æ€ç¼–è¯‘
echo "åŠ¨æ€ç¼–è¯‘..."
go build -ldflags "-s -w ${LDFLAGS}" -o "${APP_NAME}" ./cmd/main

# éªŒè¯ç¼–è¯‘ç»“æœ
echo "ç¼–è¯‘å®Œæˆï¼"
echo "é™æ€ç‰ˆæœ¬ï¼š"
ls -lh "${APP_NAME}-static"
echo "åŠ¨æ€ç‰ˆæœ¬ï¼š"
ls -lh "${APP_NAME}"

# åˆ›å»ºå‘å¸ƒåŒ…
echo "åˆ›å»ºå‘å¸ƒåŒ…..."
tar -czf "${APP_NAME}-${VERSION}-linux-amd64.tar.gz" \
    "${APP_NAME}" "${APP_NAME}-static" README.md

echo "å‘å¸ƒåŒ…ï¼š${APP_NAME}-${VERSION}-linux-amd64.tar.gz"
```

## éƒ¨ç½²æŒ‡å—

### å‡†å¤‡å·¥ä½œ

#### 1. å­—ä½“æ–‡ä»¶
```bash
# åœ¨é¡¹ç›®ç›®å½•ä¸‹åˆ›å»ºå­—ä½“ç›®å½•
mkdir -p fonts

# å¤åˆ¶TTFå­—ä½“æ–‡ä»¶åˆ°é¡¹ç›®å­—ä½“ç›®å½•ï¼ˆæ¨èä½¿ç”¨ä¸­æ–‡å­—ä½“ï¼‰
cp your-chinese-font.ttf fonts/SourceHanSansSC-Regular.ttf

# éªŒè¯å­—ä½“æ–‡ä»¶
ls -la fonts/
```

**æ³¨æ„**ï¼šç¨‹åºä¼šæŒ‰ä»¥ä¸‹ä¼˜å…ˆçº§æŸ¥æ‰¾å­—ä½“ï¼š
1. `./fonts/SourceHanSansSC-Regular.ttf` (TTFæ ¼å¼ï¼Œæ¨è)
2. `./fonts/SourceHanSansSC-Regular.otf` (OTFæ ¼å¼ï¼Œå¤‡ç”¨)

å­—ä½“æ–‡ä»¶å¿…é¡»æ”¾åœ¨é¡¹ç›®ç›®å½•ä¸‹çš„ `fonts/` æ–‡ä»¶å¤¹ä¸­ï¼Œä¸æ˜¯ç³»ç»Ÿå­—ä½“ç›®å½•ã€‚

#### 2. è®¾å¤‡IDé…ç½®
```bash
# åˆ›å»ºé…ç½®ç›®å½•
sudo mkdir -p /usr/local/etc/device

# è®¾ç½®è®¾å¤‡ID
echo "your-device-id" | sudo tee /usr/local/etc/device/id
```

#### 3. æƒé™è®¾ç½®
```bash
# æ·»åŠ ç”¨æˆ·åˆ°videoç»„ï¼ˆè®¿é—®framebufferï¼‰
sudo usermod -a -G video $USER

# æˆ–è®¾ç½®æ–‡ä»¶æƒé™
sudo chmod 666 /dev/fb0
```

### å®‰è£…éƒ¨ç½²

#### æ–¹å¼ä¸€ï¼šç›´æ¥è¿è¡Œ
```bash
# å¤åˆ¶å¯æ‰§è¡Œæ–‡ä»¶
sudo cp framebuffer-console /usr/local/bin/
sudo chmod +x /usr/local/bin/framebuffer-console

# è¿è¡Œ
framebuffer-console          # æ™®é€šæ¨¡å¼
framebuffer-console -d       # ç¦ç”¨é€€å‡ºæ¨¡å¼
framebuffer-console -h       # æ˜¾ç¤ºå¸®åŠ©
```

#### æ–¹å¼äºŒï¼šç³»ç»ŸæœåŠ¡
åˆ›å»º systemd æœåŠ¡æ–‡ä»¶ï¼š

```bash
sudo tee /etc/systemd/system/framebuffer-console.service << EOF
[Unit]
Description=Go Framebuffer Console System Monitor
After=network.target

[Service]
Type=simple
User=root
ExecStart=/usr/local/bin/framebuffer-console -d
Restart=always
RestartSec=5
WorkingDirectory=/usr/local/bin

[Install]
WantedBy=multi-user.target
EOF

# å¯åŠ¨æœåŠ¡
sudo systemctl daemon-reload
sudo systemctl enable framebuffer-console
sudo systemctl start framebuffer-console

# æŸ¥çœ‹çŠ¶æ€
sudo systemctl status framebuffer-console
```

### é…ç½®æ–‡ä»¶

åº”ç”¨ç¨‹åºæ”¯æŒé…ç½®æ–‡ä»¶ `/etc/framebuffer-console.conf`ï¼š

```ini
# å­—ä½“é…ç½®
font_path=./fonts/SourceHanSansSC-Regular.ttf
font_size=14
dpi=96

# æ˜¾ç¤ºé…ç½®
framebuffer_device=/dev/fb0
refresh_interval=5

# ç½‘ç»œæµ‹è¯•é…ç½®
network_test_timeout=20
ping_count=4

# è®¾å¤‡IDé…ç½®
device_id_file=/usr/local/etc/device/id
```

## ä½¿ç”¨æŒ‡å—

### åŸºæœ¬æ“ä½œ

#### å¯åŠ¨ç¨‹åº
```bash
# æ ‡å‡†æ¨¡å¼ï¼ˆæ”¯æŒCtrl+Cé€€å‡ºï¼‰
./framebuffer-console

# ç”Ÿäº§æ¨¡å¼ï¼ˆç¦ç”¨é€€å‡ºåŠŸèƒ½ï¼‰
./framebuffer-console -d

# æŸ¥çœ‹å¸®åŠ©
./framebuffer-console -h
```

#### ç•Œé¢å¯¼èˆª
- **ä¸»ç•Œé¢**ï¼šæ˜¾ç¤ºç³»ç»ŸçŠ¶æ€ï¼Œæ¯5ç§’è‡ªåŠ¨åˆ·æ–°
- **å›è½¦é”®**ï¼šè¿›å…¥é…ç½®èœå•
- **é…ç½®èœå•**ï¼šæŒ‰1-5é€‰æ‹©åŠŸèƒ½ï¼ŒæŒ‰qè¿”å›
- **ä»»æ„é”®**ï¼šåœ¨ä¿¡æ¯é¡µé¢æŒ‰ä»»æ„é”®è¿”å›

#### é€€å‡ºæ–¹å¼
- **æ ‡å‡†æ¨¡å¼**ï¼šCtrl+Cã€Ctrl+Zã€Ctrl+\ã€Ctrl+D
- **ç¦ç”¨æ¨¡å¼**ï¼šåªèƒ½é€šè¿‡é…ç½®èœå•é€€å‡º

### é«˜çº§åŠŸèƒ½

#### ç½‘ç»œè¯Šæ–­
1. è¿›å…¥é…ç½®èœå•ï¼ˆå›è½¦é”®ï¼‰
2. é€‰æ‹©"3. æ£€æµ‹è®¾å¤‡ç½‘ç»œ"
3. è§‚å¯Ÿæµ‹è¯•è¿›åº¦å’Œç»“æœ
4. æŒ‰ä»»æ„é”®è¿”å›èœå•

#### ç³»ç»Ÿç®¡ç†
1. é‡å¯è®¾å¤‡ï¼šé…ç½®èœå• â†’ 4 â†’ æŒ‰yç¡®è®¤
2. å…³æœºï¼šé…ç½®èœå• â†’ 5 â†’ æŒ‰yç¡®è®¤
3. æŸ¥çœ‹ç½‘å¡ï¼šé…ç½®èœå• â†’ 1

#### æ—¥å¿—æŸ¥çœ‹
```bash
# æŸ¥çœ‹ä»Šå¤©çš„å®æ—¶æ—¥å¿—
tail -f console-$(date +%Y-%m-%d).log

# æŸ¥çœ‹ä»Šå¤©çš„å®Œæ•´æ—¥å¿—
cat console-$(date +%Y-%m-%d).log

# æŸ¥çœ‹æŒ‡å®šæ—¥æœŸçš„æ—¥å¿—
cat console-2025-06-15.log

# æŸ¥çœ‹æœ€è¿‘3å¤©çš„æ‰€æœ‰æ—¥å¿—
ls console-*.log | sort
```

## æ•…éšœæ’é™¤

### å¸¸è§é—®é¢˜

#### 1. æ— æ³•å¯åŠ¨ - æƒé™é”™è¯¯
```
é”™è¯¯ï¼šæ— æ³•æ‰“å¼€/dev/fb0: permission denied
è§£å†³ï¼šsudo usermod -a -G video $USER
     æˆ– sudo chmod 666 /dev/fb0
```

#### 2. å­—ä½“æ˜¾ç¤ºå¼‚å¸¸
```
é”™è¯¯ï¼šbad ttf version æˆ– æ— æ³•è¯»å–å­—ä½“æ–‡ä»¶
è§£å†³ï¼š1. ç¡®ä¿å­—ä½“æ–‡ä»¶æ”¾åœ¨ ./fonts/ ç›®å½•ä¸‹
     2. æ–‡ä»¶åå¿…é¡»ä¸º SourceHanSansSC-Regular.ttf
     3. ç¡®ä¿ä½¿ç”¨TTFæ ¼å¼ï¼Œä¸è¦ä½¿ç”¨OTFæ ¼å¼
     4. æ£€æŸ¥å­—ä½“æ–‡ä»¶æ˜¯å¦æŸå
```

#### 3. ç½‘ç»œæµ‹è¯•å¤±è´¥
```
é”™è¯¯ï¼šæ‰€æœ‰ç›®æ ‡éƒ½æ— æ³•è®¿é—®
æ£€æŸ¥ï¼šç½‘ç»œè¿æ¥ã€DNSé…ç½®ã€é˜²ç«å¢™è®¾ç½®
è°ƒè¯•ï¼špingå‘½ä»¤æ‰‹åŠ¨æµ‹è¯•å„ä¸ªç›®æ ‡
```

#### 4. äºŒç»´ç æ— æ³•ç”Ÿæˆ
```
é”™è¯¯ï¼šè¯»å–è®¾å¤‡IDå¤±è´¥
æ£€æŸ¥ï¼š/usr/local/etc/device/idæ–‡ä»¶æ˜¯å¦å­˜åœ¨
      æ–‡ä»¶å†…å®¹æ˜¯å¦æ­£ç¡®
      æ–‡ä»¶æƒé™æ˜¯å¦å¯è¯»
```

#### 5. Framebufferä¸å¯ç”¨
```
é”™è¯¯ï¼š/dev/fb0: no such device
æ£€æŸ¥ï¼šå†…æ ¸æ˜¯å¦æ”¯æŒframebuffer
      æ˜¾å¡é©±åŠ¨æ˜¯å¦æ­£ç¡®å®‰è£…
      æ˜¯å¦åœ¨å›¾å½¢ç¯å¢ƒä¸­è¿è¡Œ
```

### è°ƒè¯•æ–¹æ³•

#### å¯ç”¨è¯¦ç»†æ—¥å¿—
```bash
# æŸ¥çœ‹ç³»ç»Ÿä¿¡æ¯
cat /proc/cpuinfo
cat /proc/meminfo
cat /proc/partitions

# æ£€æŸ¥framebuffer
ls -la /dev/fb*
cat /proc/fb

# æµ‹è¯•ç½‘ç»œ
ping -c 4 baidu.com
ip route show default
```

#### ç¼–è¯‘è°ƒè¯•ç‰ˆæœ¬
```bash
# è°ƒè¯•ç¼–è¯‘
go build -gcflags "-N -l" -o framebuffer-console-debug ./cmd/main

# ä½¿ç”¨delveè°ƒè¯•
dlv exec ./framebuffer-console-debug
```

### æ€§èƒ½ä¼˜åŒ–

#### 1. å†…å­˜ä¼˜åŒ–
- é™åˆ¶ç¼“å­˜å¤§å°
- å®šæœŸæ¸…ç†èµ„æº
- ä¼˜åŒ–å›¾åƒå¤„ç†

#### 2. CPUä¼˜åŒ–
- å‡å°‘ä¸å¿…è¦çš„é‡ç»˜
- ä¼˜åŒ–å­—ä½“æ¸²æŸ“
- ä½¿ç”¨ç¼“å­˜æœºåˆ¶

#### 3. ç£ç›˜ä¼˜åŒ–
- æ—¥å¿—è½®è½¬
- ä¸´æ—¶æ–‡ä»¶æ¸…ç†
- é…ç½®æ–‡ä»¶ä¼˜åŒ–

## è‡ªå®šä¹‰é…ç½®

### ä¿®æ”¹æ˜¾ç¤ºä¿¡æ¯

#### 1. å®¢æœå¾®ä¿¡å·
åœ¨ `pkg/menu/renderer.go` ä¸­ä¿®æ”¹ï¼š
```go
// æ‰¾åˆ°ç¬¬461è¡Œå·¦å³çš„å®¢æœä¿¡æ¯
customerServiceContent := []string{
    "å¦‚æœ‰é—®é¢˜è¯·å’¨è¯¢æŠ€æœ¯å®¢æœï¼šå¾®ä¿¡ï¼šyour-service-wechat", // ä¿®æ”¹è¿™é‡Œ
    "",
    "æŒ‰å›è½¦é”®è¿›å…¥é…ç½®èœå•",
}
```

#### 2. è®¾å¤‡IDæ–‡ä»¶è·¯å¾„
åœ¨ `pkg/system/info.go` ä¸­ä¿®æ”¹ï¼š
```go
// æ‰¾åˆ°getQianKunCloudIDå‡½æ•°ï¼Œä¿®æ”¹æ–‡ä»¶è·¯å¾„
func getQianKunCloudID() (string, error) {
    data, err := os.ReadFile("/usr/local/etc/device/id") // ä¿®æ”¹è¿™é‡Œ
    if err != nil {
        return "", fmt.Errorf("è¯»å–è®¾å¤‡IDå¤±è´¥: %v", err)
    }
    // ...
}
```

#### 3. äºŒç»´ç è¯´æ˜æ–‡å­—
åœ¨ `pkg/menu/renderer.go` ä¸­ä¿®æ”¹ï¼š
```go
// æ‰¾åˆ°renderQRCodeå‡½æ•°ä¸­çš„è¯´æ˜æ–‡å­—
headerText := "æ­¤å¤„ä¸ºäºŒç»´ç å±•ç¤ºï¼ŒäºŒç»´ç çš„å€¼ä¸ºè®¾å¤‡ID" // ä¿®æ”¹è¿™é‡Œ
```

#### 4. å­—ä½“æ–‡ä»¶è·¯å¾„
åœ¨ `internal/config/config.go` ä¸­ä¿®æ”¹ï¼š
```go
const (
    DefaultFontPath = "./fonts/YourCustomFont.ttf" // ä¿®æ”¹å­—ä½“æ–‡ä»¶å
    BackupFontPath  = "./fonts/YourCustomFont.otf" // ä¿®æ”¹å¤‡ç”¨å­—ä½“
    // ...
)
```

### å“ç‰Œå®šåˆ¶

å¯ä»¥ä¿®æ”¹ä»¥ä¸‹å†…å®¹æ¥é€‚é…ä½ çš„å“ç‰Œï¼š
- ç³»ç»Ÿæ ‡é¢˜ï¼š"ç³»ç»Ÿä¿¡æ¯" â†’ "ä½ çš„å“ç‰Œåç§°"
- å®¢æœä¿¡æ¯ï¼šå¾®ä¿¡å·å’Œè”ç³»æ–¹å¼
- è®¾å¤‡IDå­—æ®µåç§°
- é…ç½®æ–‡ä»¶è·¯å¾„
- æ—¥å¿—æ–‡ä»¶åç§°

## å¼€å‘æŒ‡å—

### é¡¹ç›®ç»“æ„

```
go-framebuffer-console/
â”œâ”€â”€ cmd/main/                 # ä¸»ç¨‹åºå…¥å£
â”‚   â””â”€â”€ main.go
â”œâ”€â”€ internal/config/          # å†…éƒ¨é…ç½®ç®¡ç†
â”‚   â””â”€â”€ config.go
â”œâ”€â”€ pkg/                      # å…¬å…±åŒ…
â”‚   â”œâ”€â”€ font/                 # å­—ä½“æ¸²æŸ“
â”‚   â”‚   â””â”€â”€ renderer.go
â”‚   â”œâ”€â”€ framebuffer/          # å¸§ç¼“å†²æ“ä½œ
â”‚   â”‚   â””â”€â”€ framebuffer.go
â”‚   â”œâ”€â”€ input/                # è¾“å…¥å¤„ç†
â”‚   â”‚   â””â”€â”€ keyboard.go
â”‚   â”œâ”€â”€ menu/                 # èœå•æ¸²æŸ“
â”‚   â”‚   â””â”€â”€ renderer.go
â”‚   â””â”€â”€ system/               # ç³»ç»Ÿä¿¡æ¯
â”‚       â””â”€â”€ info.go
â”œâ”€â”€ fonts/                    # å­—ä½“æ–‡ä»¶ç›®å½•ï¼ˆå¿…éœ€ï¼‰
â”‚   â”œâ”€â”€ SourceHanSansSC-Regular.ttf  # ä¸»å­—ä½“æ–‡ä»¶
â”‚   â””â”€â”€ SourceHanSansSC-Regular.otf  # å¤‡ç”¨å­—ä½“æ–‡ä»¶
â”œâ”€â”€ go.mod                    # Goæ¨¡å—æ–‡ä»¶
â”œâ”€â”€ go.sum                    # ä¾èµ–æ ¡éªŒ
â”œâ”€â”€ README.md                 # é¡¹ç›®æ–‡æ¡£
â””â”€â”€ console-YYYY-MM-DD.log   # æŒ‰æ—¥æœŸå‘½åçš„æ—¥å¿—æ–‡ä»¶
```

### æ‰©å±•å¼€å‘

#### æ·»åŠ æ–°çš„ç³»ç»Ÿç›‘æ§é¡¹
```go
// åœ¨ pkg/system/info.go ä¸­æ·»åŠ 
type SystemInfo struct {
    // ç°æœ‰å­—æ®µ...
    YourNewField string // æ–°ç›‘æ§é¡¹
}

func getYourNewInfo() (string, error) {
    // å®ç°è·å–é€»è¾‘
    return "your-value", nil
}
```

#### æ·»åŠ æ–°çš„èœå•åŠŸèƒ½
```go
// åœ¨ cmd/main/main.go ä¸­æ·»åŠ 
func (app *Application) yourNewFunction() error {
    // å®ç°æ–°åŠŸèƒ½
    message := "æ‚¨çš„æ–°åŠŸèƒ½\n\næŒ‰ä»»æ„é”®è¿”å›"
    if err := app.menuRenderer.RenderMessage(message); err != nil {
        return err
    }
    
    // å¤„ç†ç”¨æˆ·è¾“å…¥
    for {
        key, err := app.keyboard.ReadKey()
        if err != nil {
            return err
        }
        
        if app.handleControlKey(key, "æ–°åŠŸèƒ½é¡µé¢") {
            return nil
        }
        
        return nil // å…¶ä»–é”®è¿”å›
    }
}
```

#### è‡ªå®šä¹‰æ¸²æŸ“æ ·å¼
```go
// åœ¨ pkg/menu/renderer.go ä¸­ä¿®æ”¹
func (mr *MenuRenderer) customRender() error {
    // è‡ªå®šä¹‰æ¸²æŸ“é€»è¾‘
    mr.renderer.SetSize(16) // è°ƒæ•´å­—ä½“å¤§å°
    
    // è‡ªå®šä¹‰é¢œè‰²
    customColor := color.RGBA{255, 128, 0, 255} // æ©™è‰²
    
    // æ¸²æŸ“å†…å®¹
    textImg, err := mr.renderer.RenderText("è‡ªå®šä¹‰å†…å®¹", customColor)
    if err != nil {
        return err
    }
    
    mr.fb.DrawImage(textImg, x, y)
    return nil
}
```

### è´¡çŒ®æŒ‡å—

#### ä»£ç è§„èŒƒ
- ä½¿ç”¨ `gofmt` æ ¼å¼åŒ–ä»£ç 
- éµå¾ª Go å‘½åçº¦å®š
- æ·»åŠ é€‚å½“çš„æ³¨é‡Š
- é”™è¯¯å¤„ç†å®Œæ•´

#### æäº¤æµç¨‹
1. Fork é¡¹ç›®
2. åˆ›å»ºåŠŸèƒ½åˆ†æ”¯
3. å¼€å‘å’Œæµ‹è¯•
4. æäº¤ Pull Request

#### æµ‹è¯•è¦æ±‚
- å•å…ƒæµ‹è¯•è¦†ç›–
- é›†æˆæµ‹è¯•éªŒè¯
- æ€§èƒ½æµ‹è¯•æ£€æŸ¥
- å…¼å®¹æ€§æµ‹è¯•

## è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ [MIT License](LICENSE) å¼€æºè®¸å¯è¯ã€‚

## æŠ€æœ¯æ”¯æŒ

- **é—®é¢˜åé¦ˆ**ï¼šæäº¤ GitHub Issues
- **åŠŸèƒ½å»ºè®®**ï¼šåˆ›å»º Feature Request
- **æŠ€æœ¯è®¨è®º**ï¼šå‚ä¸ Discussions
- **ç´§æ€¥æ”¯æŒ**ï¼šè”ç³»ç»´æŠ¤å›¢é˜Ÿ

## æ›´æ–°æ—¥å¿—

### v1.0.0 (2025-06-01)
- âœ… åˆå§‹ç‰ˆæœ¬å‘å¸ƒ
- âœ… åŸºç¡€ç³»ç»Ÿç›‘æ§åŠŸèƒ½
- âœ… Framebuffer æ¸²æŸ“æ”¯æŒ
- âœ… ä¸­æ–‡å­—ä½“æ˜¾ç¤º

### v1.1.0 (2025-06-10)
- âœ… æ–°å¢é«˜çº§ç½‘ç»œæµ‹è¯•
- âœ… äºŒç»´ç æ˜¾ç¤ºåŠŸèƒ½
- âœ… æ™ºèƒ½ç¼“å­˜æ¸²æŸ“
- âœ… æ€§èƒ½ä¼˜åŒ–

### v1.2.0 (2025-06-15)
- âœ… é€€å‡ºæ§åˆ¶æœºåˆ¶
- âœ… å…¨å±€ä¿¡å·æ‹¦æˆª
- âœ… è‡ªåŠ¨æ—¥å¿—è½®è½¬
- âœ… ç³»ç»ŸæœåŠ¡æ”¯æŒ
- âœ… å“ç‰Œä¿¡æ¯è„±æ•

---

*æœ€åæ›´æ–°ï¼š2025-06-15*
*ç‰ˆæœ¬ï¼šv1.2.0*