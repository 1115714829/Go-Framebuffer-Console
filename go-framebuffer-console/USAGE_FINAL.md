# Go Framebuffer Console - 最终版本使用说明

## 🚀 功能特性

### ✅ 已实现的核心功能

1. **14号字体显示** - 清晰易读的字体大小
2. **每5秒自动刷新** - 实时更新系统状态，无需手动操作
3. **持续运行** - 程序启动后持续运行，不会自动退出
4. **左上角左对齐显示** - 专业的显示布局，信息清晰排列
5. **非阻塞键盘输入** - 支持实时按键检测，不影响自动刷新
6. **优雅退出机制** - 支持Ctrl+C安全退出

### 📊 系统状态监控

程序实时显示以下信息：
- 系统运行时间
- 处理器型号和核心数
- 内存使用状况
- 磁盘大小和数量
- 当前系统时间
- 设备IP地址

## 🔧 操作指南

### 启动程序
```bash
# 在CentOS设备上运行
./go-framebuffer-console-centos-final
```

### 操作方式

#### 主界面操作
- **自动刷新**: 系统状态每5秒自动更新
- **按回车键(Enter)**: 进入配置菜单
- **按 q/Q 键**: 快速退出程序
- **按 Ctrl+C**: 安全退出程序

#### 配置菜单操作
- **1**: 查看网卡信息
- **2**: 重启系统服务
- **3**: 检测设备网络
- **4**: 重启设备
- **5**: 关机
- **q**: 返回主界面

## 📁 文件说明

### 程序文件
- `go-framebuffer-console-centos-final` - **推荐使用** CentOS静态编译版本
- `go-framebuffer-console-final` - 动态链接版本

### 配置文件
- `fonts/` - 字体文件目录
- `FONT_GUIDE.md` - 字体配置详细说明

## 🛠 部署说明

### 1. 文件准备
```bash
# 创建工作目录
mkdir -p /opt/framebuffer-console
cd /opt/framebuffer-console

# 复制程序文件
cp go-framebuffer-console-centos-final ./
chmod +x go-framebuffer-console-centos-final

# 创建字体目录
mkdir -p fonts
```

### 2. 字体文件配置
优先顺序：
1. `fonts/SourceHanSansSC-Regular.ttf` (推荐TTF格式)
2. `fonts/SourceHanSansSC-Regular.otf` (备用OTF格式)

### 3. 运行权限
程序需要以下权限：
- 读取 `/dev/fb0` 帧缓冲区设备
- 读取 `/proc/` 系统信息
- 执行系统命令 (需要root权限)

```bash
# 建议以root身份运行
sudo ./go-framebuffer-console-centos-final
```

## 🔍 问题排查

### 常见问题

1. **程序无法启动**
   ```bash
   # 检查帧缓冲区设备
   ls -la /dev/fb*
   
   # 检查权限
   sudo chmod 666 /dev/fb0
   ```

2. **字体显示问题**
   ```bash
   # 检查字体文件
   ls -la fonts/
   
   # 参考字体配置指南
   cat FONT_GUIDE.md
   ```

3. **权限不足**
   ```bash
   # 使用root权限运行
   sudo ./go-framebuffer-console-centos-final
   ```

## 🎯 核心改进

### 与之前版本对比

| 功能 | 旧版本 | 新版本 |
|------|--------|--------|
| 字体大小 | 24号过大 | ✅ 14号适中 |
| 刷新机制 | 手动等待 | ✅ 5秒自动刷新 |
| 运行状态 | 容易退出 | ✅ 持续运行 |
| 显示位置 | 居中显示 | ✅ 左上角左对齐 |
| 用户交互 | 阻塞等待 | ✅ 非阻塞检测 |
| 程序稳定性 | 一般 | ✅ 高稳定性 |

### 技术改进
- **并发安全**: 使用互斥锁保护共享资源
- **内存安全**: 完善的边界检查和资源管理
- **错误处理**: 友好的错误提示和恢复机制
- **性能优化**: 高效的渲染算法和CPU使用优化

## 📝 使用建议

1. **建议运行环境**: CentOS 7.9 或更高版本
2. **建议使用TTF字体**: 更好的兼容性和显示效果
3. **建议以服务方式运行**: 可配置为系统服务持续运行
4. **建议定期检查**: 关注程序日志输出，及时发现问题

程序现在完全满足您的需求：14号字体、5秒自动刷新、持续运行、左上角显示，以及完整的配置菜单功能！